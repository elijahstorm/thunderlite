import{a as j,t as k}from"./index.5079a6aa.js";import{X as q}from"./scheduler.0cef3f82.js";import{w as r}from"./index.1e0a63b8.js";function F(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function z(e,i){k(e,1,1,()=>{i.delete(e.key)})}function G(e,i){e.f(),z(e,i)}function H(e,i,c,d,w,v,l,O,T,X,_,b){let o=e.length,f=v.length,a=o;const p={};for(;a--;)p[e[a].key]=a;const u=[],y=new Map,m=new Map,M=[];for(a=f;a--;){const t=b(w,v,a),n=c(t);let s=l.get(n);s?d&&M.push(()=>s.p(t,i)):(s=X(n,t),s.c()),y.set(n,u[a]=s),n in p&&m.set(n,Math.abs(a-p[n]))}const x=new Set,S=new Set;function g(t){j(t,1),t.m(O,_),l.set(t.key,t),_=t.first,f--}for(;o&&f;){const t=u[f-1],n=e[o-1],s=t.key,h=n.key;t===n?(_=t.first,o--,f--):y.has(h)?!l.has(s)||x.has(s)?g(t):S.has(h)?o--:m.get(s)>m.get(h)?(S.add(s),g(t)):(x.add(h),o--):(T(n,l),o--)}for(;o--;){const t=e[o];y.has(t.key)||T(t,l)}for(;f;)g(u[f-1]);return q(M),u}const D=r([]);function I(e,i="info",c=5e3){const d=new Date().valueOf()+e;return D.update(w=>[{id:d,msg:e,type:i,removeAfter:c},...w]),setTimeout(()=>{A(d)},c),d}function A(e){D.update(i=>i.filter(c=>c.id!==e))}export{I as a,F as e,G as f,A as r,D as t,H as u};
