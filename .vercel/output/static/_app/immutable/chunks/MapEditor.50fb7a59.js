import{s as _e,f as I,g as S,h as T,d as v,j as b,L as W,i as E,y as C,M as Xe,a as V,c as U,F as bt,I as yt,J as _t,K as vt,e as X,r as ue,o as wt,N as It,O as Y,P as Ee,Q as Oe,w as St,H as xt,x as kt,A as Ct,R as je,S as Tt,E as Et,T as Ot,U as Z,k as ee,l as jt,m as $t,n as Mt,V as Pt}from"./scheduler.4123ea5a.js";import{S as ve,i as we,a as k,g as Ye,c as Ze,t as j,b as D,d as N,m as B,e as R}from"./index.ccd460da.js";import{u as $,M as Ft,c as Lt,t as M,l as $e,a as At,m as Me}from"./mapStore.0412660f.js";import{e as te}from"./each.0583d308.js";function et(e,t){const n={},s={},o={$$scope:1};let r=e.length;for(;r--;){const i=e[r],l=t[r];if(l){for(const c in i)c in l||(s[c]=1);for(const c in l)o[c]||(n[c]=l[c],o[c]=1);e[r]=l}else for(const c in i)o[c]=1}for(const i in s)i in n||(n[i]=void 0);return n}function Pe(e,t,n){const s=e.slice();return s[7]=t[n],s[9]=n,s}function Fe(e,t,n){const s=e.slice();return s[10]=t[n],s[12]=n,s}const Dt=e=>({index:e&3}),Le=e=>({index:e[9]*(e[0]||e[1])+e[12]});function Ae(e){let t;const n=e[5].default,s=bt(n,e,e[4],Le);return{c(){s&&s.c()},l(o){s&&s.l(o)},m(o,r){s&&s.m(o,r),t=!0},p(o,r){s&&s.p&&(!t||r&19)&&yt(s,n,o,o[4],t?vt(n,o[4],r,Dt):_t(o[4]),Le)},i(o){t||(k(s,o),t=!0)},o(o){j(s,o),t=!1},d(o){s&&s.d(o)}}}function De(e){let t,n,s,o=te(e[7]),r=[];for(let l=0;l<o.length;l+=1)r[l]=Ae(Fe(e,o,l));const i=l=>j(r[l],1,1,()=>{r[l]=null});return{c(){t=I("div");for(let l=0;l<r.length;l+=1)r[l].c();n=V(),this.h()},l(l){t=S(l,"DIV",{class:!0});var c=T(t);for(let a=0;a<r.length;a+=1)r[a].l(c);n=U(c),c.forEach(v),this.h()},h(){b(t,"class","flex gap-1"),W(t,"flex-col",e[0]!==0)},m(l,c){E(l,t,c);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(t,null);C(t,n),s=!0},p(l,c){if(c&23){o=te(l[7]);let a;for(a=0;a<o.length;a+=1){const f=Fe(l,o,a);r[a]?(r[a].p(f,c),k(r[a],1)):(r[a]=Ae(f),r[a].c(),k(r[a],1),r[a].m(t,n))}for(Ye(),a=o.length;a<r.length;a+=1)i(a);Ze()}(!s||c&1)&&W(t,"flex-col",l[0]!==0)},i(l){if(!s){for(let c=0;c<o.length;c+=1)k(r[c]);s=!0}},o(l){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)j(r[c]);s=!1},d(l){l&&v(t),Xe(r,l)}}}function Nt(e){let t,n,s,o=te(e[2]),r=[];for(let l=0;l<o.length;l+=1)r[l]=De(Pe(e,o,l));const i=l=>j(r[l],1,1,()=>{r[l]=null});return{c(){t=I("div"),n=I("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){t=S(l,"DIV",{class:!0});var c=T(t);n=S(c,"DIV",{class:!0});var a=T(n);for(let f=0;f<r.length;f+=1)r[f].l(a);a.forEach(v),c.forEach(v),this.h()},h(){b(n,"class","flex gap-1 overflow-auto"),W(n,"flex-col",e[1]!==0),b(t,"class","border-black border-2 p-2")},m(l,c){E(l,t,c),C(t,n);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(n,null);s=!0},p(l,[c]){if(c&23){o=te(l[2]);let a;for(a=0;a<o.length;a+=1){const f=Pe(l,o,a);r[a]?(r[a].p(f,c),k(r[a],1)):(r[a]=De(f),r[a].c(),k(r[a],1),r[a].m(n,null))}for(Ye(),a=o.length;a<r.length;a+=1)i(a);Ze()}(!s||c&2)&&W(n,"flex-col",l[1]!==0)},i(l){if(!s){for(let c=0;c<o.length;c+=1)k(r[c]);s=!0}},o(l){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)j(r[c]);s=!1},d(l){l&&v(t),Xe(r,l)}}}function Bt(e,t,n){let{$$slots:s={},$$scope:o}=t,{rows:r=0}=t,{cols:i=0}=t,{length:l}=t,c;return e.$$set=a=>{"rows"in a&&n(0,r=a.rows),"cols"in a&&n(1,i=a.cols),"length"in a&&n(3,l=a.length),"$$scope"in a&&n(4,o=a.$$scope)},e.$$.update=()=>{e.$$.dirty&15&&(n(2,c=new Array(Math.floor(l/(r||i))).fill(0).map(a=>new Array(r||i))),c.push(new Array(l%(r||i))))},[r,i,c,l,o,s]}class ce extends ve{constructor(t){super(),we(this,t,Bt,Nt,_e,{rows:0,cols:1,length:3})}}const q=/^[a-z0-9]+(-[a-z0-9]+)*$/,re=(e,t,n,s="")=>{const o=e.split(":");if(e.slice(0,1)==="@"){if(o.length<2||o.length>3)return null;s=o.shift().slice(1)}if(o.length>3||!o.length)return null;if(o.length>1){const l=o.pop(),c=o.pop(),a={provider:o.length>0?o[0]:s,prefix:c,name:l};return t&&!K(a)?null:a}const r=o[0],i=r.split("-");if(i.length>1){const l={provider:s,prefix:i.shift(),name:i.join("-")};return t&&!K(l)?null:l}if(n&&s===""){const l={provider:s,prefix:"",name:r};return t&&!K(l,n)?null:l}return null},K=(e,t)=>e?!!((e.provider===""||e.provider.match(q))&&(t&&e.prefix===""||e.prefix.match(q))&&e.name.match(q)):!1,tt=Object.freeze({left:0,top:0,width:16,height:16}),ne=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),se=Object.freeze({...tt,...ne}),de=Object.freeze({...se,body:"",hidden:!1});function Rt(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const s=((e.rotate||0)+(t.rotate||0))%4;return s&&(n.rotate=s),n}function Ne(e,t){const n=Rt(e,t);for(const s in de)s in ne?s in e&&!(s in n)&&(n[s]=ne[s]):s in t?n[s]=t[s]:s in e&&(n[s]=e[s]);return n}function Vt(e,t){const n=e.icons,s=e.aliases||Object.create(null),o=Object.create(null);function r(i){if(n[i])return o[i]=[];if(!(i in o)){o[i]=null;const l=s[i]&&s[i].parent,c=l&&r(l);c&&(o[i]=[l].concat(c))}return o[i]}return(t||Object.keys(n).concat(Object.keys(s))).forEach(r),o}function Ut(e,t,n){const s=e.icons,o=e.aliases||Object.create(null);let r={};function i(l){r=Ne(s[l]||o[l],r)}return i(t),n.forEach(i),Ne(e,r)}function nt(e,t){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(o=>{t(o,null),n.push(o)});const s=Vt(e);for(const o in s){const r=s[o];r&&(t(o,Ut(e,o,r)),n.push(o))}return n}const qt={provider:"",aliases:{},not_found:{},...tt};function ae(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function ot(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!ae(e,qt))return null;const n=t.icons;for(const o in n){const r=n[o];if(!o.match(q)||typeof r.body!="string"||!ae(r,de))return null}const s=t.aliases||Object.create(null);for(const o in s){const r=s[o],i=r.parent;if(!o.match(q)||typeof i!="string"||!n[i]&&!s[i]||!ae(r,de))return null}return t}const Be=Object.create(null);function zt(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function F(e,t){const n=Be[e]||(Be[e]=Object.create(null));return n[t]||(n[t]=zt(e,t))}function Ie(e,t){return ot(t)?nt(t,(n,s)=>{s?e.icons[n]=s:e.missing.add(n)}):[]}function Ht(e,t,n){try{if(typeof n.body=="string")return e.icons[t]={...n},!0}catch{}return!1}let z=!1;function rt(e){return typeof e=="boolean"&&(z=e),z}function Qt(e){const t=typeof e=="string"?re(e,!0,z):e;if(t){const n=F(t.provider,t.prefix),s=t.name;return n.icons[s]||(n.missing.has(s)?null:void 0)}}function Gt(e,t){const n=re(e,!0,z);if(!n)return!1;const s=F(n.provider,n.prefix);return Ht(s,n.name,t)}function Kt(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),z&&!t&&!e.prefix){let o=!1;return ot(e)&&(e.prefix="",nt(e,(r,i)=>{i&&Gt(r,i)&&(o=!0)})),o}const n=e.prefix;if(!K({provider:t,prefix:n,name:"a"}))return!1;const s=F(t,n);return!!Ie(s,e)}const st=Object.freeze({width:null,height:null}),it=Object.freeze({...st,...ne}),Jt=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Wt=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Re(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const s=e.split(Jt);if(s===null||!s.length)return e;const o=[];let r=s.shift(),i=Wt.test(r);for(;;){if(i){const l=parseFloat(r);isNaN(l)?o.push(r):o.push(Math.ceil(l*t*n)/n)}else o.push(r);if(r=s.shift(),r===void 0)return o.join("");i=!i}}const Xt=e=>e==="unset"||e==="undefined"||e==="none";function Yt(e,t){const n={...se,...e},s={...it,...t},o={left:n.left,top:n.top,width:n.width,height:n.height};let r=n.body;[n,s].forEach(g=>{const _=[],O=g.hFlip,y=g.vFlip;let d=g.rotate;O?y?d+=2:(_.push("translate("+(o.width+o.left).toString()+" "+(0-o.top).toString()+")"),_.push("scale(-1 1)"),o.top=o.left=0):y&&(_.push("translate("+(0-o.left).toString()+" "+(o.height+o.top).toString()+")"),_.push("scale(1 -1)"),o.top=o.left=0);let w;switch(d<0&&(d-=Math.floor(d/4)*4),d=d%4,d){case 1:w=o.height/2+o.top,_.unshift("rotate(90 "+w.toString()+" "+w.toString()+")");break;case 2:_.unshift("rotate(180 "+(o.width/2+o.left).toString()+" "+(o.height/2+o.top).toString()+")");break;case 3:w=o.width/2+o.left,_.unshift("rotate(-90 "+w.toString()+" "+w.toString()+")");break}d%2===1&&(o.left!==o.top&&(w=o.left,o.left=o.top,o.top=w),o.width!==o.height&&(w=o.width,o.width=o.height,o.height=w)),_.length&&(r='<g transform="'+_.join(" ")+'">'+r+"</g>")});const i=s.width,l=s.height,c=o.width,a=o.height;let f,h;i===null?(h=l===null?"1em":l==="auto"?a:l,f=Re(h,c/a)):(f=i==="auto"?c:i,h=l===null?Re(f,a/c):l==="auto"?a:l);const u={},p=(g,_)=>{Xt(_)||(u[g]=_.toString())};return p("width",f),p("height",h),u.viewBox=o.left.toString()+" "+o.top.toString()+" "+c.toString()+" "+a.toString(),{attributes:u,body:r}}const Zt=/\sid="(\S+)"/g,en="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let tn=0;function nn(e,t=en){const n=[];let s;for(;s=Zt.exec(e);)n.push(s[1]);if(!n.length)return e;const o="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(r=>{const i=typeof t=="function"?t(r):t+(tn++).toString(),l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+i+o+"$3")}),e=e.replace(new RegExp(o,"g"),""),e}const he=Object.create(null);function on(e,t){he[e]=t}function pe(e){return he[e]||he[""]}function Se(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const xe=Object.create(null),A=["https://api.simplesvg.com","https://api.unisvg.com"],J=[];for(;A.length>0;)A.length===1||Math.random()>.5?J.push(A.shift()):J.push(A.pop());xe[""]=Se({resources:["https://api.iconify.design"].concat(J)});function rn(e,t){const n=Se(t);return n===null?!1:(xe[e]=n,!0)}function ke(e){return xe[e]}const sn=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let Ve=sn();function ln(e,t){const n=ke(e);if(!n)return 0;let s;if(!n.maxURL)s=0;else{let o=0;n.resources.forEach(i=>{o=Math.max(o,i.length)});const r=t+".json?icons=";s=n.maxURL-o-n.path.length-r.length}return s}function cn(e){return e===404}const an=(e,t,n)=>{const s=[],o=ln(e,t),r="icons";let i={type:r,provider:e,prefix:t,icons:[]},l=0;return n.forEach((c,a)=>{l+=c.length+1,l>=o&&a>0&&(s.push(i),i={type:r,provider:e,prefix:t,icons:[]},l=c.length),i.icons.push(c)}),s.push(i),s};function fn(e){if(typeof e=="string"){const t=ke(e);if(t)return t.path}return"/"}const un=(e,t,n)=>{if(!Ve){n("abort",424);return}let s=fn(t.provider);switch(t.type){case"icons":{const r=t.prefix,l=t.icons.join(","),c=new URLSearchParams({icons:l});s+=r+".json?"+c.toString();break}case"custom":{const r=t.uri;s+=r.slice(0,1)==="/"?r.slice(1):r;break}default:n("abort",400);return}let o=503;Ve(e+s).then(r=>{const i=r.status;if(i!==200){setTimeout(()=>{n(cn(i)?"abort":"next",i)});return}return o=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?n("abort",r):n("next",o)});return}setTimeout(()=>{n("success",r)})}).catch(()=>{n("next",o)})},dn={prepare:an,send:un};function hn(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((o,r)=>o.provider!==r.provider?o.provider.localeCompare(r.provider):o.prefix!==r.prefix?o.prefix.localeCompare(r.prefix):o.name.localeCompare(r.name));let s={provider:"",prefix:"",name:""};return e.forEach(o=>{if(s.name===o.name&&s.prefix===o.prefix&&s.provider===o.provider)return;s=o;const r=o.provider,i=o.prefix,l=o.name,c=n[r]||(n[r]=Object.create(null)),a=c[i]||(c[i]=F(r,i));let f;l in a.icons?f=t.loaded:i===""||a.missing.has(l)?f=t.missing:f=t.pending;const h={provider:r,prefix:i,name:l};f.push(h)}),t}function lt(e,t){e.forEach(n=>{const s=n.loaderCallbacks;s&&(n.loaderCallbacks=s.filter(o=>o.id!==t))})}function pn(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const s=e.provider,o=e.prefix;t.forEach(r=>{const i=r.icons,l=i.pending.length;i.pending=i.pending.filter(c=>{if(c.prefix!==o)return!0;const a=c.name;if(e.icons[a])i.loaded.push({provider:s,prefix:o,name:a});else if(e.missing.has(a))i.missing.push({provider:s,prefix:o,name:a});else return n=!0,!0;return!1}),i.pending.length!==l&&(n||lt([e],r.id),r.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),r.abort))})}))}let gn=0;function mn(e,t,n){const s=gn++,o=lt.bind(null,n,s);if(!t.pending.length)return o;const r={id:s,icons:t,callback:e,abort:o};return n.forEach(i=>{(i.loaderCallbacks||(i.loaderCallbacks=[])).push(r)}),o}function bn(e,t=!0,n=!1){const s=[];return e.forEach(o=>{const r=typeof o=="string"?re(o,t,n):o;r&&s.push(r)}),s}var yn={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function _n(e,t,n,s){const o=e.resources.length,r=e.random?Math.floor(Math.random()*o):e.index;let i;if(e.random){let m=e.resources.slice(0);for(i=[];m.length>1;){const x=Math.floor(Math.random()*m.length);i.push(m[x]),m=m.slice(0,x).concat(m.slice(x+1))}i=i.concat(m)}else i=e.resources.slice(r).concat(e.resources.slice(0,r));const l=Date.now();let c="pending",a=0,f,h=null,u=[],p=[];typeof s=="function"&&p.push(s);function g(){h&&(clearTimeout(h),h=null)}function _(){c==="pending"&&(c="aborted"),g(),u.forEach(m=>{m.status==="pending"&&(m.status="aborted")}),u=[]}function O(m,x){x&&(p=[]),typeof m=="function"&&p.push(m)}function y(){return{startTime:l,payload:t,status:c,queriesSent:a,queriesPending:u.length,subscribe:O,abort:_}}function d(){c="failed",p.forEach(m=>{m(void 0,f)})}function w(){u.forEach(m=>{m.status==="pending"&&(m.status="aborted")}),u=[]}function mt(m,x,L){const Q=x!=="success";switch(u=u.filter(P=>P!==m),c){case"pending":break;case"failed":if(Q||!e.dataAfterTimeout)return;break;default:return}if(x==="abort"){f=L,d();return}if(Q){f=L,u.length||(i.length?le():d());return}if(g(),w(),!e.random){const P=e.resources.indexOf(m.resource);P!==-1&&P!==e.index&&(e.index=P)}c="completed",p.forEach(P=>{P(L)})}function le(){if(c!=="pending")return;g();const m=i.shift();if(m===void 0){if(u.length){h=setTimeout(()=>{g(),c==="pending"&&(w(),d())},e.timeout);return}d();return}const x={status:"pending",resource:m,callback:(L,Q)=>{mt(x,L,Q)}};u.push(x),a++,h=setTimeout(le,e.rotate),n(m,t,x.callback)}return setTimeout(le),y}function ct(e){const t={...yn,...e};let n=[];function s(){n=n.filter(l=>l().status==="pending")}function o(l,c,a){const f=_n(t,l,c,(h,u)=>{s(),a&&a(h,u)});return n.push(f),f}function r(l){return n.find(c=>l(c))||null}return{query:o,find:r,setIndex:l=>{t.index=l},getIndex:()=>t.index,cleanup:s}}function Ue(){}const fe=Object.create(null);function vn(e){if(!fe[e]){const t=ke(e);if(!t)return;const n=ct(t),s={config:t,redundancy:n};fe[e]=s}return fe[e]}function wn(e,t,n){let s,o;if(typeof e=="string"){const r=pe(e);if(!r)return n(void 0,424),Ue;o=r.send;const i=vn(e);i&&(s=i.redundancy)}else{const r=Se(e);if(r){s=ct(r);const i=e.resources?e.resources[0]:"",l=pe(i);l&&(o=l.send)}}return!s||!o?(n(void 0,424),Ue):s.query(t,o,n)().abort}const qe="iconify2",H="iconify",at=H+"-count",ze=H+"-version",ft=36e5,In=168;function ge(e,t){try{return e.getItem(t)}catch{}}function Ce(e,t,n){try{return e.setItem(t,n),!0}catch{}}function He(e,t){try{e.removeItem(t)}catch{}}function me(e,t){return Ce(e,at,t.toString())}function be(e){return parseInt(ge(e,at))||0}const ie={local:!0,session:!0},ut={local:new Set,session:new Set};let Te=!1;function Sn(e){Te=e}let G=typeof window>"u"?{}:window;function dt(e){const t=e+"Storage";try{if(G&&G[t]&&typeof G[t].length=="number")return G[t]}catch{}ie[e]=!1}function ht(e,t){const n=dt(e);if(!n)return;const s=ge(n,ze);if(s!==qe){if(s){const l=be(n);for(let c=0;c<l;c++)He(n,H+c.toString())}Ce(n,ze,qe),me(n,0);return}const o=Math.floor(Date.now()/ft)-In,r=l=>{const c=H+l.toString(),a=ge(n,c);if(typeof a=="string"){try{const f=JSON.parse(a);if(typeof f=="object"&&typeof f.cached=="number"&&f.cached>o&&typeof f.provider=="string"&&typeof f.data=="object"&&typeof f.data.prefix=="string"&&t(f,l))return!0}catch{}He(n,c)}};let i=be(n);for(let l=i-1;l>=0;l--)r(l)||(l===i-1?(i--,me(n,i)):ut[e].add(l))}function pt(){if(!Te){Sn(!0);for(const e in ie)ht(e,t=>{const n=t.data,s=t.provider,o=n.prefix,r=F(s,o);if(!Ie(r,n).length)return!1;const i=n.lastModified||-1;return r.lastModifiedCached=r.lastModifiedCached?Math.min(r.lastModifiedCached,i):i,!0})}}function xn(e,t){const n=e.lastModifiedCached;if(n&&n>=t)return n===t;if(e.lastModifiedCached=t,n)for(const s in ie)ht(s,o=>{const r=o.data;return o.provider!==e.provider||r.prefix!==e.prefix||r.lastModified===t});return!0}function kn(e,t){Te||pt();function n(s){let o;if(!ie[s]||!(o=dt(s)))return;const r=ut[s];let i;if(r.size)r.delete(i=Array.from(r).shift());else if(i=be(o),!me(o,i+1))return;const l={cached:Math.floor(Date.now()/ft),provider:e.provider,data:t};return Ce(o,H+i.toString(),JSON.stringify(l))}t.lastModified&&!xn(e,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),n("local")||n("session"))}function Qe(){}function Cn(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,pn(e)}))}function Tn(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:s}=e,o=e.iconsToLoad;delete e.iconsToLoad;let r;if(!o||!(r=pe(n)))return;r.prepare(n,s,o).forEach(l=>{wn(n,l,c=>{if(typeof c!="object")l.icons.forEach(a=>{e.missing.add(a)});else try{const a=Ie(e,c);if(!a.length)return;const f=e.pendingIcons;f&&a.forEach(h=>{f.delete(h)}),kn(e,c)}catch(a){console.error(a)}Cn(e)})})}))}const En=(e,t)=>{const n=bn(e,!0,rt()),s=hn(n);if(!s.pending.length){let c=!0;return t&&setTimeout(()=>{c&&t(s.loaded,s.missing,s.pending,Qe)}),()=>{c=!1}}const o=Object.create(null),r=[];let i,l;return s.pending.forEach(c=>{const{provider:a,prefix:f}=c;if(f===l&&a===i)return;i=a,l=f,r.push(F(a,f));const h=o[a]||(o[a]=Object.create(null));h[f]||(h[f]=[])}),s.pending.forEach(c=>{const{provider:a,prefix:f,name:h}=c,u=F(a,f),p=u.pendingIcons||(u.pendingIcons=new Set);p.has(h)||(p.add(h),o[a][f].push(h))}),r.forEach(c=>{const{provider:a,prefix:f}=c;o[a][f].length&&Tn(c,o[a][f])}),t?mn(t,s,r):Qe};function On(e,t){const n={...e};for(const s in t){const o=t[s],r=typeof o;s in st?(o===null||o&&(r==="string"||r==="number"))&&(n[s]=o):r===typeof n[s]&&(n[s]=s==="rotate"?o%4:o)}return n}const jn=/[\s,]+/;function $n(e,t){t.split(jn).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function Mn(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function s(o){for(;o<0;)o+=4;return o%4}if(n===""){const o=parseInt(e);return isNaN(o)?0:s(o)}else if(n!==e){let o=0;switch(n){case"%":o=25;break;case"deg":o=90}if(o){let r=parseFloat(e.slice(0,e.length-n.length));return isNaN(r)?0:(r=r/o,r%1===0?s(r):0)}}return t}function Pn(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const s in t)n+=" "+s+'="'+t[s]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function Fn(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Ln(e){return"data:image/svg+xml,"+Fn(e)}function An(e){return'url("'+Ln(e)+'")'}const Ge={...it,inline:!1},Dn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Nn={display:"inline-block"},ye={"background-color":"currentColor"},gt={"background-color":"transparent"},Ke={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Je={"-webkit-mask":ye,mask:ye,background:gt};for(const e in Je){const t=Je[e];for(const n in Ke)t[e+"-"+n]=Ke[n]}function Bn(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}function Rn(e,t){const n=On(Ge,t),s=t.mode||"svg",o=s==="svg"?{...Dn}:{};e.body.indexOf("xlink:")===-1&&delete o["xmlns:xlink"];let r=typeof t.style=="string"?t.style:"";for(let y in t){const d=t[y];if(d!==void 0)switch(y){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":n[y]=d===!0||d==="true"||d===1;break;case"flip":typeof d=="string"&&$n(n,d);break;case"color":r=r+(r.length>0&&r.trim().slice(-1)!==";"?";":"")+"color: "+d+"; ";break;case"rotate":typeof d=="string"?n[y]=Mn(d):typeof d=="number"&&(n[y]=d);break;case"ariaHidden":case"aria-hidden":d!==!0&&d!=="true"&&delete o["aria-hidden"];break;default:if(y.slice(0,3)==="on:")break;Ge[y]===void 0&&(o[y]=d)}}const i=Yt(e,n),l=i.attributes;if(n.inline&&(r="vertical-align: -0.125em; "+r),s==="svg"){Object.assign(o,l),r!==""&&(o.style=r);let y=0,d=t.id;return typeof d=="string"&&(d=d.replace(/-/g,"_")),{svg:!0,attributes:o,body:nn(i.body,d?()=>d+"ID"+y++:"iconifySvelte")}}const{body:c,width:a,height:f}=e,h=s==="mask"||(s==="bg"?!1:c.indexOf("currentColor")!==-1),u=Pn(c,{...l,width:a+"",height:f+""}),g={"--svg":An(u)},_=y=>{const d=l[y];d&&(g[y]=Bn(d))};_("width"),_("height"),Object.assign(g,Nn,h?ye:gt);let O="";for(const y in g)O+=y+": "+g[y]+";";return o.style=O+r,{svg:!1,attributes:o}}rt(!0);on("",dn);if(typeof document<"u"&&typeof window<"u"){pt();const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(s=>{try{(typeof s!="object"||s===null||s instanceof Array||typeof s.icons!="object"||typeof s.prefix!="string"||!Kt(s))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let n in t){const s="IconifyProviders["+n+"] is invalid.";try{const o=t[n];if(typeof o!="object"||!o||o.resources===void 0)continue;rn(n,o)||console.error(s)}catch{console.error(s)}}}}function Vn(e,t,n,s,o){function r(){t.loading&&(t.loading.abort(),t.loading=null)}if(typeof e=="object"&&e!==null&&typeof e.body=="string")return t.name="",r(),{data:{...se,...e}};let i;if(typeof e!="string"||(i=re(e,!1,!0))===null)return r(),null;const l=Qt(i);if(!l)return n&&(!t.loading||t.loading.name!==e)&&(r(),t.name="",t.loading={name:e,abort:En([i],s)}),null;r(),t.name!==e&&(t.name=e,o&&!t.destroyed&&o(e));const c=["iconify"];return i.prefix!==""&&c.push("iconify--"+i.prefix),i.provider!==""&&c.push("iconify--"+i.provider),{data:l,classes:c}}function Un(e,t){return e?Rn({...se,...e},t):null}function We(e){let t;function n(r,i){return r[0].svg?zn:qn}let s=n(e),o=s(e);return{c(){o.c(),t=X()},l(r){o.l(r),t=X()},m(r,i){o.m(r,i),E(r,t,i)},p(r,i){s===(s=n(r))&&o?o.p(r,i):(o.d(1),o=s(r),o&&(o.c(),o.m(t.parentNode,t)))},d(r){r&&v(t),o.d(r)}}}function qn(e){let t,n=[e[0].attributes],s={};for(let o=0;o<n.length;o+=1)s=Y(s,n[o]);return{c(){t=I("span"),this.h()},l(o){t=S(o,"SPAN",{}),T(t).forEach(v),this.h()},h(){Oe(t,s)},m(o,r){E(o,t,r)},p(o,r){Oe(t,s=et(n,[r&1&&o[0].attributes]))},d(o){o&&v(t)}}}function zn(e){let t,n,s=e[0].body+"",o=[e[0].attributes],r={};for(let i=0;i<o.length;i+=1)r=Y(r,o[i]);return{c(){t=St("svg"),n=new xt(!0),this.h()},l(i){t=kt(i,"svg",{});var l=T(t);n=Ct(l,!0),l.forEach(v),this.h()},h(){n.a=null,je(t,r)},m(i,l){E(i,t,l),n.m(s,t)},p(i,l){l&1&&s!==(s=i[0].body+"")&&n.p(s),je(t,r=et(o,[l&1&&i[0].attributes]))},d(i){i&&v(t)}}}function Hn(e){let t,n=e[0]&&We(e);return{c(){n&&n.c(),t=X()},l(s){n&&n.l(s),t=X()},m(s,o){n&&n.m(s,o),E(s,t,o)},p(s,[o]){s[0]?n?n.p(s,o):(n=We(s),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:ue,o:ue,d(s){s&&v(t),n&&n.d(s)}}}function Qn(e,t,n){const s={name:"",loading:null,destroyed:!1};let o=!1,r=0,i;const l=a=>{typeof t.onLoad=="function"&&t.onLoad(a),Tt()("load",{icon:a})};function c(){n(3,r++,r)}return wt(()=>{n(2,o=!0)}),It(()=>{n(1,s.destroyed=!0,s),s.loading&&(s.loading.abort(),n(1,s.loading=null,s))}),e.$$set=a=>{n(6,t=Y(Y({},t),Ee(a)))},e.$$.update=()=>{{const a=Vn(t.icon,s,o,c,l);n(0,i=a?Un(a.data,t):null),i&&a.classes&&n(0,i.attributes.class=(typeof t.class=="string"?t.class+" ":"")+a.classes.join(" "),i)}},t=Ee(t),[i,s,o,r]}class Gn extends ve{constructor(t){super(),we(this,t,Qn,Hn,_e,{})}}function Kn(e){let t,n,s,o;return{c(){t=I("button"),n=I("img"),this.h()},l(r){t=S(r,"BUTTON",{class:!0,style:!0});var i=T(t);n=S(i,"IMG",{class:!0,src:!0,alt:!0,style:!0}),i.forEach(v),this.h()},h(){b(n,"class","object-cover min-w-fit"),Z(n.src,s=$[e[6]].url)||b(n,"src",s),b(n,"alt",o=$[e[6]].name),ee(n,"margin",-$[e[6]].yOffset+2+"px "+-$[e[6]].xOffset+"px 0 0"),b(t,"class","border border-black overflow-hidden"),b(t,"style",e[0])},m(r,i){E(r,t,i),C(t,n)},p(r,i){i&64&&!Z(n.src,s=$[r[6]].url)&&b(n,"src",s),i&64&&o!==(o=$[r[6]].name)&&b(n,"alt",o),i&64&&ee(n,"margin",-$[r[6]].yOffset+2+"px "+-$[r[6]].xOffset+"px 0 0"),i&1&&b(t,"style",r[0])},d(r){r&&v(t)}}}function Jn(e){let t,n,s,o=e[4][e[6]].label+"",r,i;return n=new Gn({props:{icon:e[4][e[6]].icon,width:oe,height:oe-25}}),{c(){t=I("button"),D(n.$$.fragment),s=V(),r=jt(o),this.h()},l(l){t=S(l,"BUTTON",{class:!0,style:!0});var c=T(t);N(n.$$.fragment,c),s=U(c),r=$t(c,o),c.forEach(v),this.h()},h(){b(t,"class","border border-black overflow-hidden"),b(t,"style",e[0])},m(l,c){E(l,t,c),B(n,t,null),C(t,s),C(t,r),i=!0},p(l,c){const a={};c&64&&(a.icon=l[4][l[6]].icon),n.$set(a),(!i||c&64)&&o!==(o=l[4][l[6]].label+"")&&Mt(r,o),(!i||c&1)&&b(t,"style",l[0])},i(l){i||(k(n.$$.fragment,l),i=!0)},o(l){j(n.$$.fragment,l),i=!1},d(l){l&&v(t),R(n)}}}function Wn(e){let t,n="loading...";return{c(){t=I("p"),t.textContent=n},l(s){t=S(s,"P",{"data-svelte-h":!0}),Pt(t)!=="svelte-qeejp2"&&(t.textContent=n)},m(s,o){E(s,t,o)},p:ue,d(s){s&&v(t)}}}function Xn(e){let t,n,s,o;return{c(){t=I("button"),n=I("img"),this.h()},l(r){t=S(r,"BUTTON",{class:!0,style:!0});var i=T(t);n=S(i,"IMG",{class:!0,src:!0,alt:!0,style:!0}),i.forEach(v),this.h()},h(){b(n,"class","object-cover object-left-top min-w-fit"),Z(n.src,s=M[e[6]].url)||b(n,"src",s),b(n,"alt",o=M[e[6]].name),ee(n,"margin",-M[e[6]].yOffset+"px "+-M[e[6]].xOffset+"px 0 0"),b(t,"class","border border-black overflow-hidden"),b(t,"style",e[0])},m(r,i){E(r,t,i),C(t,n)},p(r,i){i&64&&!Z(n.src,s=M[r[6]].url)&&b(n,"src",s),i&64&&o!==(o=M[r[6]].name)&&b(n,"alt",o),i&64&&ee(n,"margin",-M[r[6]].yOffset+"px "+-M[r[6]].xOffset+"px 0 0"),i&1&&b(t,"style",r[0])},d(r){r&&v(t)}}}function Yn(e){let t,n,s,o,r,i,l,c,a,f,h;return n=new ce({props:{rows:2,length:$.length,$$slots:{default:[Kn,({index:u})=>({6:u}),({index:u})=>u?64:0]},$$scope:{ctx:e}}}),r=new ce({props:{cols:1,length:e[4].length,$$slots:{default:[Jn,({index:u})=>({6:u}),({index:u})=>u?64:0]},$$scope:{ctx:e}}}),c=new Ft({props:{map:e[3],select:e[5],makeImage:Lt(e[2]),loaded:e[1],$$slots:{default:[Wn]},$$scope:{ctx:e}}}),f=new ce({props:{cols:2,length:M.length,$$slots:{default:[Xn,({index:u})=>({6:u}),({index:u})=>u?64:0]},$$scope:{ctx:e}}}),{c(){t=I("div"),D(n.$$.fragment),s=V(),o=I("div"),D(r.$$.fragment),i=V(),l=I("div"),D(c.$$.fragment),a=V(),D(f.$$.fragment),this.h()},l(u){t=S(u,"DIV",{class:!0});var p=T(t);N(n.$$.fragment,p),s=U(p),o=S(p,"DIV",{class:!0});var g=T(o);N(r.$$.fragment,g),i=U(g),l=S(g,"DIV",{class:!0});var _=T(l);N(c.$$.fragment,_),_.forEach(v),a=U(g),N(f.$$.fragment,g),g.forEach(v),p.forEach(v),this.h()},h(){b(l,"class","flex-1"),b(o,"class","flex flex-1"),b(t,"class","p-6 h-screen max-h-screen overflow-clip")},m(u,p){E(u,t,p),B(n,t,null),C(t,s),C(t,o),B(r,o,null),C(o,i),C(o,l),B(c,l,null),C(o,a),B(f,o,null),h=!0},p(u,[p]){const g={};p&193&&(g.$$scope={dirty:p,ctx:u}),n.$set(g);const _={};p&193&&(_.$$scope={dirty:p,ctx:u}),r.$set(_);const O={};p&2&&(O.loaded=u[1]),p&128&&(O.$$scope={dirty:p,ctx:u}),c.$set(O);const y={};p&193&&(y.$$scope={dirty:p,ctx:u}),f.$set(y)},i(u){h||(k(n.$$.fragment,u),k(r.$$.fragment,u),k(c.$$.fragment,u),k(f.$$.fragment,u),h=!0)},o(u){j(n.$$.fragment,u),j(r.$$.fragment,u),j(c.$$.fragment,u),j(f.$$.fragment,u),h=!1},d(u){u&&v(t),R(n),R(r),R(c),R(f)}}}const oe=60;function Zn(e,t,n){let s,o;Et(e,$e,a=>n(1,o=a));const r=a=>$e.set(a);let i=Ot(Me)??{rows:10,cols:10,layers:{ground:new Array(100).fill(0).map(a=>({type:0,state:0})),units:[],sky:[]}};const l=[{label:"save",icon:"fluent:save-24-filled",act:()=>{}},{label:"open",icon:"fluent:folder-32-filled",act:()=>{}},{label:"share",icon:"fluent:open-12-regular",act:()=>{}}];let c=(a,f)=>{console.log({x:a,y:f})};return i.layers.ground.map((a,f)=>a.state=At(a)(i,f)),Me.set(i),n(0,s=`width: ${oe}px; height: ${oe}px;`),[s,o,r,i,l,c]}class ro extends ve{constructor(t){super(),we(this,t,Zn,Yn,_e,{})}}export{ro as M};
